import{k as p,g as u,j as e}from"./index-Dw-DZviR.js";async function j(t,n,a){const s=await fetch("/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,email:n,message:a})});if(!s.ok)throw new Error("Network response was not ok");return s.json()}const w=p("/contact")({component:g});function g(){const[t,n]=u.useState(""),a=50,[s,i,o]=u.useActionState(async(c,r)=>{await new Promise(x=>setTimeout(x,1e4));const d=r.get("name"),h=r.get("email");return await j(d,h,t),{submitted:!0}},{submitted:!1,error:null}),m=c=>{const r=c.target.value;r.length<=a&&n(r)};return e.jsxs("div",{className:"contact",children:[o?e.jsx("h2",{children:"Submitting..."}):e.jsx("h2",{children:"Contact"}),s.submitted?e.jsx("h3",{children:"Submitted!"}):e.jsxs(e.Fragment,{children:[o&&e.jsx("div",{className:"loader"}),e.jsxs("form",{action:i,children:[e.jsx(l,{name:"name",type:"text",placeholder:"Name",isPending:o}),e.jsx(l,{name:"email",type:"email",placeholder:"Email",isPending:o}),e.jsx(b,{name:"message",placeholder:"Message",value:t,onChange:m,maxLength:a,isPending:o}),e.jsxs("p",{children:[t.length,"/",a," characters"]}),e.jsx(f,{isPending:o})]})]})]})}function l({isPending:t,...n}){return e.jsx("input",{disabled:t,required:!0,...n})}function b({value:t,onChange:n,maxLength:a,isPending:s,...i}){return e.jsx("textarea",{disabled:s,value:t,onChange:n,maxLength:a,rows:5,required:!0,...i})}function f({isPending:t}){return e.jsx("button",{type:"submit",disabled:t,children:t?"Submitting...":"Submit"})}export{w as Route};
